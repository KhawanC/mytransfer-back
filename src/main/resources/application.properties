spring.application.name=files

# ===========================================
# MongoDB Configuration
# ===========================================
spring.data.mongodb.host=${MONGODB_HOST:localhost}
spring.data.mongodb.port=${MONGODB_PORT:27017}
spring.data.mongodb.database=${MONGODB_DATABASE:mytransfer}
spring.data.mongodb.username=${MONGODB_USERNAME:}
spring.data.mongodb.password=${MONGODB_PASSWORD:}
spring.data.mongodb.authentication-database=${MONGODB_AUTH_DATABASE:admin}

# ===========================================
# Redis Configuration
# ===========================================
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.username=${REDIS_USERNAME:}
spring.data.redis.password=${REDIS_PASSWORD:}

# ===========================================
# Cache Configuration
# ===========================================
spring.cache.type=redis
spring.cache.redis.time-to-live=1800000

# ===========================================
# JWT Configuration
# ===========================================
jwt.secret=${JWT_SECRET:1234567891011121314151617181920}
jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:3600000}
jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:2592000000}

# ===========================================
# Google OAuth2 Configuration
# ===========================================
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri=${APP_BASE_URL}/login/oauth2/code/google

# ===========================================
# Application Configuration
# ===========================================
app.base-url=${APP_BASE_URL:http://localhost:8080}
app.frontend-url=${APP_FRONTEND_URL:http://localhost:3000}

# ===========================================
# MongoDB Index Configuration
# ===========================================
spring.data.mongodb.auto-index-creation=true

# ===========================================
# Mongock Configuration
# ===========================================
mongock.migration-scan-package=br.com.khawantech.files.migration
mongock.enabled=true
mongock.transaction-enabled=false

# ===========================================
# RabbitMQ Configuration
# ===========================================
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:guest}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:guest}

# RabbitMQ Retry Configuration
spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.max-attempts=3
spring.rabbitmq.listener.simple.retry.initial-interval=1000
spring.rabbitmq.listener.simple.retry.multiplier=2.0
spring.rabbitmq.listener.simple.retry.max-interval=10000
spring.rabbitmq.listener.simple.default-requeue-rejected=false

# ===========================================
# MinIO Configuration
# ===========================================
minio.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
minio.secret-key=${MINIO_SECRET_KEY:minioadmin}
minio.bucket=${MINIO_BUCKET:transferencias}

# ===========================================
# Transfer Configuration
# ===========================================
# Guest user limits
transferencia.guest.sessao-duracao-minutos=${TRANSFERENCIA_GUEST_SESSAO_DURACAO_MINUTOS:10}
transferencia.guest.max-arquivos=${TRANSFERENCIA_GUEST_MAX_ARQUIVOS:10}
transferencia.guest.max-tamanho-mb=${TRANSFERENCIA_GUEST_MAX_TAMANHO_MB:25}
transferencia.guest.max-participantes=${TRANSFERENCIA_GUEST_MAX_PARTICIPANTES:2}

# Free user limits
transferencia.free.sessao-duracao-minutos=${TRANSFERENCIA_FREE_SESSAO_DURACAO_MINUTOS:30}
transferencia.free.max-arquivos=${TRANSFERENCIA_FREE_MAX_ARQUIVOS:25}
transferencia.free.max-tamanho-mb=${TRANSFERENCIA_FREE_MAX_TAMANHO_MB:250}
transferencia.free.max-participantes=${TRANSFERENCIA_FREE_MAX_PARTICIPANTES:2}

# Premium user limits
transferencia.premium.sessao-duracao-minutos=${TRANSFERENCIA_PREMIUM_SESSAO_DURACAO_MINUTOS:300}
transferencia.premium.max-arquivos=${TRANSFERENCIA_PREMIUM_MAX_ARQUIVOS:100}
transferencia.premium.max-tamanho-mb=${TRANSFERENCIA_PREMIUM_MAX_TAMANHO_MB:5120}
transferencia.premium.max-participantes=${TRANSFERENCIA_PREMIUM_MAX_PARTICIPANTES:10}

# General transfer configuration
transferencia.cache-ttl-horas=${TRANSFERENCIA_CACHE_TTL_HORAS:0.5}
transferencia.chunk-size-mb=${TRANSFERENCIA_CHUNK_SIZE_MB:5}
transferencia.minio-bucket=${MINIO_BUCKET:transferencias}

woovi.api-key=${WOOVI_API_KEY:}
woovi.webhook-signature-header=${WOOVI_WEBHOOK_SIGNATURE_HEADER:x-webhook-signature}


# ===========================================
# ImageMagick Configuration
# ===========================================
imagemagick.timeout-seconds=${IMAGEMAGICK_TIMEOUT_SECONDS:300}
imagemagick.max-resolution=${IMAGEMAGICK_MAX_RESOLUTION:50000000}

# ===========================================
# HTTP Request Configuration (para upload de arquivos grandes)
# ===========================================
server.tomcat.max-http-request-header-size=8KB
server.tomcat.max-swallow-size=-1
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
